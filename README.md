# 📚 프로젝트 소개

본 프로젝트는 **사용자의 자연어 입력을 받아 AI가 텍스트를 생성하는 서비스**를 구축하는 것을 목표로 합니다.  
간단한 웹 인터페이스를 통해 질문을 입력하고, AI 모델이 자연어로 답변을 생성하는 시스템입니다.

---

## 🚩 문제 인식

초기에는 **Gemma 2B** 모델을 사용하여 서비스를 구성했습니다.  
하지만 다음과 같은 한계에 직면했습니다:

- **느린 처리 속도**:  
  Gemma 2B는 주로 **CPU 기반**으로 구동되었기 때문에, 질문을 입력한 후 답변을 받기까지 시간이 매우 오래 걸렸습니다.
- **언어 지원 한계**:  
  영어 및 중국어에 대한 대응력이 중요한 상황에서,  
  Gemma 2B는 **다국어 성능이 제한적**이었고, 긴 문장이나 복잡한 요청을 제대로 처리하지 못하는 경우가 발생했습니다.

**결론적으로**,  
**속도 문제**와 **언어 대응 한계**를 모두 극복할 수 있는 대안이 필요했습니다.

---

# 🛠️ 솔루션

문제 해결을 위해 선택한 모델은 **OpenChat 3.5**입니다.  
(OpenChat 3.5는 HuggingFace에서 제공하는 `openchat/openchat-3.5-1210` 버전입니다.)

이 모델은 **GPT 아키텍처 기반의 대형 언어 모델(LLM)**로,  
특히 **영어**와 **중국어**에 대해 매우 뛰어난 자연어 이해 및 생성 능력을 보이는 것이 특징입니다.

모델 개발진은 주로 **중국계 개발자 그룹**으로 구성되어 있으며,  
중국어 및 영어 데이터셋을 중심으로 학습되었습니다.  
이로 인해, **한국어 입력**에 대해서는 다소 부자연스러운 문장 구성이나 의미 왜곡이 발생할 수 있습니다.

그럼에도 불구하고, 본 프로젝트에서는  
**영어 및 중국어 기반 다국어 확장성**을 고려하여  
**한국어 특화 모델 대신 OpenChat 3.5를 채택**하였습니다.  
(추후 서비스 확장 시 중국어·영어 기반 지원을 우선 확보하기 위함입니다.)

---

## ⚙️ 성능 최적화 방법

OpenChat 3.5는 7B 규모의 대형 모델이기 때문에, 그대로 사용하면  
속도 및 메모리 문제가 발생할 수 있습니다. 이를 해결하기 위해 다음과 같은 최적화 기법을 적용했습니다:

- **4bit 양자화 (`load_in_4bit=True`)**  
  모델 파라미터를 4bit 크기로 압축하여, 메모리 사용량을 대폭 절감했습니다.  
  (기존 메모리 사용량 대비 약 75% 이상 절약)

- **FP16 연산 최적화 (`torch_dtype=torch.float16`)**  
  32bit 대신 16bit 부동소수점(FP16)을 사용하여, 연산 속도를 2배 이상 향상시켰습니다.

- **GPU 우선 배치 (`device_map="auto"`)**  
  모델 연산을 GPU에 자동으로 배치하여, CPU 대비 빠른 병렬 처리를 가능하게 했습니다.

- **메모리 오프로딩 (`offload_folder`)**  
  GPU 메모리가 부족할 경우, 일부 연산을 디스크나 CPU로 이동시켜 시스템의 안정성을 확보했습니다.

### ✨ 요약

> OpenChat 3.5 모델은 영어·중국어 성능에 최적화되어 있으며,  
> 최적화 기법(4bit 양자화, FP16 연산, GPU 오프로딩)을 적용하여  
> **대형 모델임에도 불구하고 빠른 응답성과 안정적인 운영이 가능**하도록 구성되었습니다.


## 🌟 모델 특징 및 한계

- **장점**:  
  - 영어와 중국어에 대해 **탁월한 문맥 이해**와 **자연스러운 답변 생성** 능력을 보임
  - 대규모 입력이나 긴 대화에 대해서도 **안정적인 응답 품질** 제공
  - 다국어 확장성에 매우 적합한 구조

- **한계**:  
  - **한국어 입력에 대해서는 최적화 수준이 낮아**,  
    일부 문장 구성이나 어색한 표현이 발생할 수 있음

---

## ✨ 요약

> 초기의 Gemma 2B 모델은 느린 속도와 다국어 대응 부족으로 인해 제약이 있었으며,  
> OpenChat 3.5로 전환하고 4bit 양자화, FP16 최적화, 메모리 오프로딩 등의 기법을 적용한 결과,  
> **더 빠르고 안정적이며, 영어·중국어 대응력이 강화된 시스템**을 구축할 수 있었습니다.

